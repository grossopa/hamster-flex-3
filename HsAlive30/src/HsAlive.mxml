<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml"  frameRate="60" backgroundColor="white"
				layout="absolute" width="800" height="600" xmlns:game="org.hamster.alive30.game.*"
				applicationComplete="application1_applicationCompleteHandler(event)" 
				xmlns:view="org.hamster.alive30.menu.view.*" xmlns:view1="org.hamster.alive30.game.view.*" xmlns:view2="org.hamster.alive30.main.view.*">
	<mx:Script>
		<![CDATA[
			import mx.events.FlexEvent;
			import mx.logging.ILogger;
			import mx.logging.Log;
			
			import org.hamster.alive30.common.constant.AppConstants;
			import org.hamster.alive30.common.facade.AppFacade;
			import org.hamster.alive30.common.service.MainHTTPService;
			import org.hamster.alive30.common.util.SWFProfiler;
			import org.hamster.alive30.common.util.TracePanelUtil;
			import org.hamster.alive30.common.util.Vector2D;
			import org.hamster.alive30.common.vo.LevelVO;
			import org.hamster.alive30.game.control.ControlManager;
			import org.hamster.alive30.game.item.Bullet;
			import org.hamster.alive30.game.model.vo.BulletListVO;
			import org.hamster.alive30.game.model.vo.BulletVO;
			import org.hamster.alive30.game.util.BulletMoveType;
			import org.hamster.alive30.game.util.GameConstants;
			
			private var logger:ILogger = Log.getLogger('hs.main');
			private var ctrlManager:ControlManager = ControlManager.instance;
			private var facade:AppFacade = AppFacade.instance;

			protected function application1_applicationCompleteHandler(event:FlexEvent):void
			{
				SWFProfiler.init(stage, this);
				TracePanelUtil.instance.init(stage, this);
				ctrlManager.stage = stage;
				new MainHTTPService();
				facade.sendNotification(AppFacade.INIT);
			}
			
			public function loadGameModule(levelVO:LevelVO):void
			{
				this.mainModuleLoader.loadModule(AppConstants.MODULE_GAME);
			}
		]]>
	</mx:Script>
	<game:GameModule id="gameModule" width="{GameConstants.GAME_WIDTH}" height="{GameConstants.GAME_HEIGHT}" />
	<mx:ModuleLoader id="mainModuleLoader" width="100%" height="100%" />
	<view:MainMenuPage width="100%" height="100%" />
	<view2:MainBoundView id="mainBoundView" />
</mx:Application>
