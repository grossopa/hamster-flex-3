<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" width="400" height="300" backgroundColor="black"
	 creationComplete="completeHandler()"
	verticalScrollPolicy="off" horizontalScrollPolicy="off" xmlns:imageCropper="org.hamster.imageCropper.*">
	
	<mx:Script source="HsImageCropperAs.as" />
	
	<mx:Image id="mainImage" x="{_mainImgX}" y="{_mainImgY}" source="{_source}"
		width="{_mainImgWidth}" height="{_mainImgHeight}" />
	
	<mx:Canvas width="100%" height="100%"
		verticalScrollPolicy="off" horizontalScrollPolicy="off"
		mouseMove="maskMouseMoveHandler(event)" mouseUp="maskMouseUpHandler(event)">
		
		<mx:Image id="maskImage" width="100%" height="100%" />
			 
		<mx:Canvas id="selAreaCanvas" width="200" height="200" 
			verticalScrollPolicy="off" horizontalScrollPolicy="off"
			mouseDown="imageCropperUnitDownHandler(event, MOVE)">
			<!--<mx:Canvas id="moveCanvas" width="100%" height="100%"
				  verticalScrollPolicy="off" horizontalScrollPolicy="off"
				   />-->
		</mx:Canvas>
		
		<mx:Canvas id="outsideCanvas" x="{selAreaCanvas.x - _unitSize / 2 - 1}" y="{selAreaCanvas.y - _unitSize / 2 - 1}"
			width="{selAreaCanvas.width + _unitSize + 2}" height="{selAreaCanvas.height + _unitSize + 2}"
			verticalScrollPolicy="off" horizontalScrollPolicy="off">
			<imageCropper:HsImageCropperUnit id="leftTopUnit"
				left="1" top="1" width="{_unitSize}" height="{_unitSize}"
				mouseDown="imageCropperUnitDownHandler(event, LEFT|TOP)"
			 	rollOver="imageCropperUnitRollOverHandler(event, LEFT|TOP)"
			 	rollOut="imageCropperUnitRollOutHandler(event, LEFT|TOP)" />
			<imageCropper:HsImageCropperUnit id="centerTopUnit" 
				horizontalCenter="0" top="1" width="{_unitSize}" height="{_unitSize}"
				mouseDown="imageCropperUnitDownHandler(event, TOP)"
				rollOver="imageCropperUnitRollOverHandler(event, TOP)"
			 	rollOut="imageCropperUnitRollOutHandler(event, TOP)" />
			<imageCropper:HsImageCropperUnit id="rightTopUnit" 
				right="1" top="1" width="{_unitSize}" height="{_unitSize}" 
				mouseDown="imageCropperUnitDownHandler(event, RIGHT|TOP)"
				rollOver="imageCropperUnitRollOverHandler(event, RIGHT|TOP)"
			 	rollOut="imageCropperUnitRollOutHandler(event, RIGHT|TOP)" />
			<imageCropper:HsImageCropperUnit id="leftMiddleUnit" 
				left="1" verticalCenter="0" width="{_unitSize}" height="{_unitSize}"
				mouseDown="imageCropperUnitDownHandler(event, LEFT)"
				rollOver="imageCropperUnitRollOverHandler(event, LEFT)"
			 	rollOut="imageCropperUnitRollOutHandler(event, LEFT)" />
			<imageCropper:HsImageCropperUnit id="rightMiddleUnit" 
				right="1" verticalCenter="0" width="{_unitSize}" height="{_unitSize}"
				mouseDown="imageCropperUnitDownHandler(event, RIGHT)"
				rollOver="imageCropperUnitRollOverHandler(event, RIGHT)"
			 	rollOut="imageCropperUnitRollOutHandler(event, RIGHT)" />
			<imageCropper:HsImageCropperUnit id="leftBottomUnit" 
				left="1" bottom="1" width="{_unitSize}" height="{_unitSize}"
				mouseDown="imageCropperUnitDownHandler(event, LEFT|BOTTOM)"
				rollOver="imageCropperUnitRollOverHandler(event, LEFT|BOTTOM)"
			 	rollOut="imageCropperUnitRollOutHandler(event, LEFT|BOTTOM)" />
			<imageCropper:HsImageCropperUnit id="centerBottomUnit" 
				horizontalCenter="0" bottom="1" width="{_unitSize}" height="{_unitSize}"
				mouseDown="imageCropperUnitDownHandler(event, BOTTOM)"
				rollOver="imageCropperUnitRollOverHandler(event, BOTTOM)"
			 	rollOut="imageCropperUnitRollOutHandler(event, BOTTOM)" />
			<imageCropper:HsImageCropperUnit id="rightBottomUnit" 
				right="1" bottom="1" width="{_unitSize}" height="{_unitSize}"
				mouseDown="imageCropperUnitDownHandler(event, RIGHT|BOTTOM)"
				rollOver="imageCropperUnitRollOverHandler(event, RIGHT|BOTTOM)"
			 	rollOut="imageCropperUnitRollOutHandler(event, RIGHT|BOTTOM)" />
		</mx:Canvas>
		
	</mx:Canvas>
	
</mx:Canvas>
