<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" 
				layout="absolute" minWidth="955" minHeight="600" frameRate="60"
				applicationComplete="app_applicationCompleteHandler(event)" xmlns:closableTab="org.hamster.closableTab.*">
	<mx:Script>
		<![CDATA[
			import mx.collections.ArrayCollection;
			import mx.events.FlexEvent;
			import mx.events.ListEvent;
			
			import org.hamster.closableTab.HsClosableTabBarEvent;
			import org.hamster.showcase.common.facade.AppFacade;
			import org.hamster.toolkit.base.component.closableTabBar.ClosableTabBarEvent;
			
			private var facade:AppFacade = AppFacade.instance;
			
			[Bindable] public var caseVOList:ArrayCollection;

			protected function app_applicationCompleteHandler(event:FlexEvent):void
			{
				facade.sendNotification(AppFacade.INIT, this);
			}


			protected function caseList_changeHandler(event:ListEvent):void
			{
				if (caseNavigator.numChildren > 1) {
					caseNavigator.closable = true;
				}
			}


			protected function caseNavigator_closeTabHandler(event:HsClosableTabBarEvent):void
			{
				caseNavigator.removeChildAt(event.index);
				if (caseNavigator.numChildren <= 1) {
					caseNavigator.closable = false;
					return;
				}
			}

		]]>
	</mx:Script>
	
	<mx:HDividedBox width="100%" height="100%">
		<mx:List id="caseList" dataProvider="{caseVOList}" labelField="name" width="150" height="100%"
				 change="caseList_changeHandler(event)"/>
		<!--<mx:Canvas id="caseContainer" width="100%" height="100%" />-->
		<closableTab:HsClosableTabNavigator id="caseNavigator" width="100%" height="100%"
											autoRemoveChild="false"
											closeTab="caseNavigator_closeTabHandler(event)">
			
		</closableTab:HsClosableTabNavigator>
	</mx:HDividedBox>
</mx:Application>
